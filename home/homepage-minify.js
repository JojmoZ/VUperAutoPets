window.onload=function(){const e=window.electron.path,t=window.electron.__dirname;localStorage.removeItem("ingame");const n=document.getElementById("maps");document.getElementById("backArrow").addEventListener("click",(function(){const n=e.join(t,"menu/menu.html");window.location.href=`file://${n}`})),n.dataset.percentage="-30",n.style.transform="translate(-30%, -50%)";const o=localStorage.getItem("username"),s=localStorage.getItem("loggedin"),a=document.querySelector("#typewriter");if(s){const e=[`Welcome, <span class="username">${o} </span>!`,`Bienvenido, <span class="username">${o} </span>!`,`Bienvenue, <span class="username">${o} </span>!`,`Willkommen, <span class="username">${o} </span>!`,`Benvenuto, <span class="username">${o} </span>!`],t=100;let n=0;const s=e=>new Promise((t=>setTimeout(t,e)));(async()=>{for(;;){const o=e[n];let r,i=!1;for(let e=0;e<o.length;e++)"<"===o[e]&&(i=!0),">"===o[e]&&(i=!1),a.innerHTML=o.substring(0,e+1),i||await s(t);await s(3e3);for(let e=o.length;e>=0;e--)">"===o[e]&&(i=!0),"<"===o[e]&&(i=!1),a.innerHTML=o.substring(0,e),i||await s(t);do{r=Math.floor(Math.random()*e.length)}while(r===n);n=r}})()}else{!function(){const e=["users"];Object.keys(localStorage).forEach((t=>{e.includes(t)||localStorage.removeItem(t)}))}();const n=e.join(t,"login/index.html");window.location.href=`file://${n}`}const r=document.querySelectorAll(".fade-in-element"),i=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&!e.target.classList.contains("visible")?e.target.classList.add("visible"):!e.isIntersecting&&e.target.classList.contains("visible")&&e.target.classList.remove("visible")}))}),{threshold:.5});r.forEach((e=>{i.observe(e)}));const l=document.querySelectorAll(".section-title"),c=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?e.target.classList.add("visible"):e.target.classList.remove("visible")}))}),{threshold:.5});l.forEach((e=>{c.observe(e)}));const m=document.querySelector(".game-maker"),d=["../assets/LogoVUPER.jpg","../assets/social-media/Steam.png","../assets/home-asset/TeamWoodGames.jpg"],u=["Super Auto Pets is the first game out of independent studio Team Wood Games, and is available both as a free browser title as well as a mobile app for Android, itâ€™s certainly a game worth checking out.","This game is available in Steam! Download VUper Auto Pets Free Now!","We are the creators of this game, you can see more of us in https://itch.io/profile/teamwood"];let g,p=0;const f=document.getElementById("carousel-image"),h=document.getElementById("carousel-text"),w=document.querySelectorAll(".indicator");function v(){f.style.opacity="0",h.style.opacity="0",setTimeout((()=>{p=(p+1)%d.length,y(),setTimeout((()=>{f.style.opacity="1",h.style.opacity="1"}),50)}),1e3)}function y(){f.src=d[p],h.textContent=u[p],w.forEach(((e,t)=>{t===p?e.classList.add("active"):e.classList.remove("active")}))}function b(){g||(g=setInterval(v,5e3))}function E(){clearInterval(g),g=null}w.forEach((e=>{e.addEventListener("click",(function(){p=parseInt(this.dataset.index),E(),y(),b()}))})),y();new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?(console.log("Carousel is visible, starting the carousel timer"),b()):(console.log("Carousel is not visible, stopping the carousel timer"),E())}))}),{threshold:.5}).observe(m);const L=document.querySelector(".social-media"),S=document.querySelector(".instagram"),I=document.querySelector(".twitter"),k=document.querySelector(".steam");new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?(S.classList.add("walk"),I.classList.add("walk"),k.classList.add("walk"),console.log("Social Media is visible")):(S.classList.remove("walk"),I.classList.remove("walk"),k.classList.remove("walk"),console.log("Social Media is not visible"))}))}),{threshold:.5}).observe(L);const q=document.getElementById("audio"),A=document.getElementById("visualization"),B=new(window.AudioContext||window.webkitAudioContext);let $=!1;const T=B.createAnalyser();B.createMediaElementSource(q).connect(T),T.connect(B.destination),T.fftSize=512;const x=T.frequencyBinCount,M=new Uint8Array(x),P=A.getContext("2d"),C=A.height,j=A.width,W=j/x*2.5;function X(){P.clearRect(0,0,j,C),T.getByteFrequencyData(M);let e=0;for(let t=0;t<x;t++){const n=Math.pow(M[t],3)/44100*.4,o=`rgba(203, ${50+M[t]/255*205}, 36, 0.8)`,s=C/1.6;P.fillStyle=o,P.fillRect(e,s-n,W,n),P.fillStyle=`rgba(203, ${50+M[t]/255*205}, 36, 0.5)`,P.fillRect(e,s,W,n),e+=W+1}requestAnimationFrame(X)}const D=document.getElementById("ost-play-button"),F=document.getElementById("button-icon");D.addEventListener("mousemove",(e=>{const t=D.getBoundingClientRect(),n=e.clientX-t.left,o=e.clientY-t.top;D.style.setProperty("--mouseX",`${n}px`),D.style.setProperty("--mouseY",`${o}px`)})),D.addEventListener("click",(function(){$?(q.pause(),F.src="../assets/home-asset/playmusic.png",$=!1):("suspended"===B.state&&B.resume(),q.play(),F.src="../assets/home-asset/pause.png",$=!0,X())}));document.querySelector(".jumbotron"),document.querySelector(".trailer"),document.querySelector(".game-desc"),document.querySelector(".game-maker"),document.querySelector(".ost-section");function N(e,t){if(e.querySelector(".animalWalk"))return;const n=document.createElement("img");n.src=t,n.classList.add("animalWalk"),e.appendChild(n);const o=Math.random()<.5?"left":"right";n.style[o]="-100px","left"===o&&(n.style.transform="scaleX(-1)");const s="left"===o?"right":"left";setTimeout((()=>{n.style.transition="transform 10s linear, bottom 1s ease-in-out",n.style.transform=`translateX(${"right"===s?"calc(100vw + 100px)":"calc(-100vw - 100px)"}) ${"left"===o?"scaleX(-1)":""}`;let e=4;const t=()=>{n.style.bottom=`${parseInt(n.style.bottom||0)+35*e}px`,e*=-1,setTimeout(t,500)};t(),n.addEventListener("transitionend",(()=>{n.remove()}))}),1e3)}const O=[{element:document.querySelector(".jumbotron"),animal:"../assets/Animals/DJig.webp"},{element:document.querySelector(".trailer"),animal:"../assets/Animals/Liberian_Husky.webp"},{element:document.querySelector(".game-desc"),animal:"../assets/Animals/owLF.webp"},{element:document.querySelector(".game-maker"),animal:"../assets/Animals/PPat.webp"},{element:document.querySelector(".ost-section"),animal:"../assets/Animals/LabbiK.webp"}],H=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=O.find((t=>t.element===e.target));t&&(N(t.element,t.animal),H.unobserve(e.target),setInterval((()=>{Math.random()<.2&&N(t.element,t.animal)}),1e3))}}))}),{threshold:.5});O.forEach((e=>{H.observe(e.element)}));const R=e=>{n.dataset.mouseDownAt=e.clientX},U=()=>{n.dataset.mouseDownAt="0",n.dataset.prevPercentage=n.dataset.percentage||"0"},_=e=>{if("0"===n.dataset.mouseDownAt)return;const t=parseFloat(n.dataset.mouseDownAt),o=parseFloat(n.dataset.prevPercentage);if(isNaN(t)||isNaN(o))return;const s=o+(t-e.clientX)/(window.innerWidth/2)*-100,a=Math.max(Math.min(s,0),-100);n.dataset.percentage=a,n.animate({transform:`translate(${a}%, -50%)`},{duration:1200,fill:"forwards"});for(const e of n.getElementsByClassName("image"))e.animate({objectPosition:`${100+a}% center`},{duration:1200,fill:"forwards"})};window.onmousedown=e=>R(e),window.ontouchstart=e=>R(e.touches[0]),window.onmouseup=e=>U(),window.ontouchend=e=>U(e.touches[0]),window.onmousemove=e=>_(e),window.ontouchmove=e=>_(e.touches[0]);const z=new Audio("../assets/sound/Super Auto Pets  - Menu Theme.mp3");z.volume=.09,z.loop=!0;const G=localStorage.getItem("backgroundAudioTime");G&&(z.currentTime=parseFloat(G));const V=()=>{z.play(),document.removeEventListener("click",V),document.removeEventListener("keydown",V),document.removeEventListener("mousemove",V),document.removeEventListener("scroll",V),document.removeEventListener("touchstart",V),document.removeEventListener("focus",V),document.removeEventListener("mousedown",V),document.removeEventListener("mouseup",V)};document.addEventListener("click",V),document.addEventListener("keydown",V),document.addEventListener("mousemove",V),document.addEventListener("scroll",V),document.addEventListener("touchstart",V),document.addEventListener("focus",V),document.addEventListener("mousedown",V),document.addEventListener("mouseup",V),window.addEventListener("beforeunload",(()=>{localStorage.setItem("backgroundAudioTime",z.currentTime)}));const Y={"abandon-hat":{top:"-40%",left:"15%",transform:"rotate(10deg)"},crown:{top:"-30%",left:"10%",width:"11rem",transform:"rotate(10deg)"},foil:{top:"-35%",left:"14%",transform:"rotate(5deg)"},paper:{top:"-23%",left:"15%",transform:"rotate(8deg) scaleX(-1)"},santa:{top:"-25%",left:"18%",transform:"rotate(5deg)"},trophy:{top:"-35%",left:"16%",transform:"rotate(15deg)"}},J=["../assets/hats/abandon-hat.png","../assets/hats/crown.png","../assets/hats/foil.png","../assets/hats/paper.png","../assets/hats/santa.png","../assets/hats/trophy.png"];let K=0;const Q=document.querySelector(".Hats img");function Z(){const e=J[K],t=e.split("/").pop().replace(".png",""),n=Y[t];if(Q.src=e,n){const e=document.querySelector(".Hats");e.style.top=n.top,e.style.left=n.left,Q.style.width=n.width||"11rem",e.style.transform=n.transform||"none"}}document.getElementById("hat-left-arrow").addEventListener("click",(()=>{K=(K-1+J.length)%J.length,Z()})),document.getElementById("hat-right-arrow").addEventListener("click",(()=>{K=(K+1)%J.length,Z()})),Z()};